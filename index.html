<!DOCTYPE html>
<html>

<head>
   <title>–ú–æ—è AR –ú–æ–¥–µ–ª—å —Å QR-–∫–æ–¥–æ–º</title>
   <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"></script>
   <script src="model-viewer.js" type="module"></script>
   <style>
      body {
         margin: 0;
         padding: 20px;
         font-family: Arial;
         background: #f5f5f5;
         text-align: center;
      }

      .container {
         max-width: 800px;
         margin: 0 auto;
         background: white;
         padding: 20px;
         border-radius: 10px;
         box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }

      model-viewer {
         width: 100%;
         height: 500px;
         margin: 20px 0;
      }

      .qr-container {
         margin: 20px 0;
         padding: 15px;
         background: #f9f9f9;
         border-radius: 10px;
         display: inline-block;
      }

      #qrcode {
         padding: 10px;
         background: white;
         border-radius: 5px;
         display: inline-block;
      }

      .print-instructions {
         margin-top: 15px;
         font-size: 14px;
         color: #666;
      }
   </style>
</head>

<body>
   <div class="container">
      <h1>üéØ –ú–æ—è 3D –ú–æ–¥–µ–ª—å –≤ AR</h1>
      <p>–û—Ç—Å–∫–∞–Ω–∏—Ä—É–π—Ç–µ QR-–∫–æ–¥ —á—Ç–æ–±—ã —Å—Ä–∞–∑—É –æ—Ç–∫—Ä—ã—Ç—å AR-–ø—Ä–æ—Å–º–æ—Ç—Ä</p>

      <model-viewer id="modelViewer" src="model.glb" alt="–ú–æ—è 3D –º–æ–¥–µ–ª—å" ar ar-modes="webxr scene-viewer quick-look"
         auto-rotate camera-controls environment-image="neutral" shadow-intensity="1">

         <div slot="loading">
            <div style="padding: 20px; color: #666;">
               ‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏...
            </div>
         </div>
      </model-viewer>

      <div class="qr-container">
         <h3>QR-–∫–æ–¥ –¥–ª—è AR –ø—Ä–æ—Å–º–æ—Ç—Ä–∞</h3>
         <div id="qrcode"></div>
         <div class="print-instructions">
            –†–∞—Å–ø–µ—á–∞—Ç–∞–π—Ç–µ —ç—Ç–æ—Ç QR-–∫–æ–¥ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ AR –º–æ–¥–µ–ª–∏
         </div>
      </div>

      <p><small>–û—Ç–∫—Ä–æ–π—Ç–µ –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ –¥–ª—è AR –ø—Ä–æ—Å–º–æ—Ç—Ä–∞</small></p>
   </div>

   <script>
      document.addEventListener('DOMContentLoaded', function () {
         // –°–æ–∑–¥–∞–µ–º URL –¥–ª—è –ø—Ä—è–º–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ AR
         const baseUrl = window.location.href.split('?')[0];
         const arUrl = baseUrl + '?ar=true';

         // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º QR-–∫–æ–¥
         QRCode.toCanvas(document.getElementById('qrcode'), arUrl, {
            width: 200,
            margin: 2,
            color: {
               dark: '#000000',
               light: '#FFFFFF'
            }
         }, function (error) {
            if (error) console.error(error);
            console.log('QR-–∫–æ–¥ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω!');
         });

         // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ–º AR, –µ—Å–ª–∏ –≤ URL –µ—Å—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä ar=true
         const urlParams = new URLSearchParams(window.location.search);
         if (urlParams.get('ar') === 'true') {
            const modelViewer = document.getElementById('modelViewer');
            // –î–∞–µ–º –≤—Ä–µ–º—è –Ω–∞ –∑–∞–≥—Ä—É–∑–∫—É –º–æ–¥–µ–ª–∏
            setTimeout(() => {
               modelViewer.activateAR();
            }, 1000);
         }
      });
   </script>
</body>

</html>